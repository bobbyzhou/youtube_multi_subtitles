# YouTube双语字幕插件测试清单

## 安装和基础测试

### ✅ 插件安装
- [ ] 成功加载插件到Chrome
- [ ] 插件图标显示在工具栏
- [ ] 没有控制台错误信息
- [ ] 扩展管理页面显示插件已启用

### ✅ 设置界面测试
- [ ] 点击插件图标弹出设置面板
- [ ] 所有设置项正常显示
- [ ] 切换开关功能正常
- [ ] 下拉菜单选择正常
- [ ] API Key输入框正常
- [ ] 保存设置成功提示

## 核心功能测试

### ✅ 字幕提取功能
- [ ] 在有字幕的YouTube视频上测试
- [ ] 字幕文本正确提取
- [ ] 字幕变化时及时更新
- [ ] 无字幕时不显示翻译
- [ ] 多行字幕正确处理

### ✅ 翻译功能测试

#### 使用免费API（无API Key）
- [ ] 英文字幕翻译成中文
- [ ] 翻译结果准确合理
- [ ] 翻译速度可接受（<3秒）
- [ ] 网络错误时显示错误状态

#### 使用官方API（有API Key）
- [ ] 配置有效的API Key
- [ ] 翻译质量更高
- [ ] 翻译速度更快（<1秒）
- [ ] 支持批量翻译

### ✅ 双语显示测试
- [ ] 原文和译文同时显示
- [ ] 原文字幕样式正确（黑色背景）
- [ ] 译文字幕样式正确（蓝色背景）
- [ ] 字幕位置正确
- [ ] 字幕大小合适
- [ ] 动画效果流畅

## 设置功能测试

### ✅ 语言设置
- [ ] 切换到不同目标语言
- [ ] 翻译结果语言正确
- [ ] 设置保存并生效

### ✅ 显示位置
- [ ] 底部显示正常
- [ ] 顶部显示正常
- [ ] 覆盖模式正常

### ✅ 字体大小
- [ ] 小字体显示正常
- [ ] 中字体显示正常
- [ ] 大字体显示正常

### ✅ 高级设置
- [ ] 预翻译模式开关
- [ ] 显示原文开关
- [ ] 动画效果开关
- [ ] 翻译延迟设置
- [ ] 缓存时间设置

## 性能和缓存测试

### ✅ 缓存功能
- [ ] 相同字幕第二次显示更快
- [ ] 缓存命中率合理（>50%）
- [ ] 清除缓存功能正常
- [ ] 缓存过期自动清理

### ✅ 性能优化
- [ ] 内存使用合理（<50MB）
- [ ] CPU使用率正常
- [ ] 不影响YouTube正常播放
- [ ] 长时间使用无内存泄漏

## 兼容性测试

### ✅ 不同视频类型
- [ ] 普通YouTube视频
- [ ] 长视频（>1小时）
- [ ] 短视频（<5分钟）
- [ ] 直播视频
- [ ] 音乐视频

### ✅ 不同字幕类型
- [ ] 自动生成字幕
- [ ] 用户上传字幕
- [ ] 多语言字幕
- [ ] 无字幕视频

### ✅ 浏览器兼容性
- [ ] Chrome最新版本
- [ ] Chrome较旧版本
- [ ] 不同操作系统（Windows/Mac/Linux）

## 错误处理测试

### ✅ 网络错误
- [ ] 断网时的错误处理
- [ ] 网络慢时的超时处理
- [ ] API限额超出时的处理

### ✅ API错误
- [ ] 无效API Key的处理
- [ ] API服务不可用的处理
- [ ] 翻译失败的错误显示

### ✅ 页面错误
- [ ] YouTube页面结构变化的适应性
- [ ] 其他扩展冲突的处理
- [ ] 页面刷新后的恢复

## 调试和开发测试

### ✅ 调试工具
- [ ] 启用调试模式：`enableDebugMode()`
- [ ] 调试面板正常显示
- [ ] 性能监控数据准确
- [ ] 控制台命令正常工作

### ✅ 测试命令
```javascript
// 在YouTube视频页面的控制台中运行：

// 启用调试模式
enableDebugMode()

// 测试翻译
debugSubtitles.test()

// 模拟字幕
debugSubtitles.simulate()

// 查看性能报告
showPerformanceReport()

// 获取优化建议
getOptimizationSuggestions()

// 检查设置
debugSubtitles.getSettings()

// 检查缓存
debugSubtitles.inspectCache()
```

## 用户体验测试

### ✅ 易用性
- [ ] 设置界面直观易懂
- [ ] 功能开关简单明了
- [ ] 错误信息清晰有用
- [ ] 帮助文档完整

### ✅ 性能体验
- [ ] 字幕显示无延迟感
- [ ] 翻译速度满足需求
- [ ] 不影响视频播放体验
- [ ] 界面响应流畅

## 常见问题解决

### 问题1：字幕不显示
**可能原因：**
- YouTube视频没有开启字幕
- 插件被禁用
- 页面结构发生变化

**解决方法：**
1. 确认视频有字幕（点击CC按钮）
2. 检查插件设置中是否启用
3. 刷新页面重试
4. 查看控制台错误信息

### 问题2：翻译失败
**可能原因：**
- 网络连接问题
- API Key配置错误
- 翻译服务限额

**解决方法：**
1. 检查网络连接
2. 验证API Key是否正确
3. 稍后重试
4. 查看错误日志

### 问题3：性能问题
**可能原因：**
- 缓存设置不当
- 内存泄漏
- 频繁API调用

**解决方法：**
1. 调整缓存时间设置
2. 清除缓存重启
3. 启用预翻译模式
4. 检查性能监控数据

## 测试完成标准

- [ ] 所有核心功能正常工作
- [ ] 没有阻塞性错误
- [ ] 性能表现良好
- [ ] 用户体验流畅
- [ ] 错误处理完善
- [ ] 兼容性良好

## 发布前检查

- [ ] 代码无语法错误
- [ ] 所有测试用例通过
- [ ] 性能指标达标
- [ ] 文档完整准确
- [ ] 版本号正确更新
